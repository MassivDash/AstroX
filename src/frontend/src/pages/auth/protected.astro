---
import Layout from '../../layouts/Layout.astro'
import Section from '../../components/Section.astro'
import { ProtectedIsland } from '../../components/protectedIsland/protectedIsland.tsx'
---

<Layout title='Welcome to AstroX.'>
  <div class='container'>
    <Section>
      <h1>Protected Route</h1>
      <p>
        This page demonstrates a protected API endpoint that requires
        authentication.
      </p>

      <ProtectedIsland client:load />
    </Section>
    <Section>
      <h3>ℹ️ How it works:</h3>
      <ul>
        <li>The React component above calls <code>/api/protected</code></li>
        <li>If you're logged in, it will show the protected data</li>
        <li>If you're not logged in, it will show an unauthorized error</li>
        <li>
          External tools like Postman without session cookies will be rejected
        </li>
      </ul>
    </Section>
  </div>
</Layout>
