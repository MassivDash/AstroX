set -e

echo 'running cargo fmt...'
cargo fmt

echo 'running cargo clippy...'
cargo clippy -- -D warnings

echo 'running backend cargo fmt...'
cargo fmt --manifest-path src/backend/Cargo.toml

echo 'running backend cargo clippy...'
cargo clippy --manifest-path src/backend/Cargo.toml -- -D warnings

echo 'running frontend project lint...'
npm run lint --prefix src/frontend/

echo '----- Done -----'