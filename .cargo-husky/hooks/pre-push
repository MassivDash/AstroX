set -e

echo 'running cargo test...'
cargo test

echo 'running cargo fmt...'
cargo fmt -- --check

echo 'running cargo clippy...'
cargo clippy -- -D warnings

echo 'running cargo doc...'
cargo doc --no-deps

echo 'running npm run build'
npm run build --prefix src/frontend

echo 'running npm run lint'
npm run lint --prefix src/frontend

echo 'DONE'